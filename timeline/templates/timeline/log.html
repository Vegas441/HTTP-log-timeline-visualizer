{% extends "timeline/base.html" %}

{% block content %}

<div class="p-3 bg-dark text-white">
    <h2> {{ log.dateTime|date:'Y-m-d H:i:s' }} </h2> <!-- Remove -->
</div>



<div class="container" style="margin-top: 10%;">
    <table class="table table-bordered">
        <tbody>
            
            {% if log.type == 'RECIEVED' %}

                {% for data in datas %}

                    {% if data.log.ID == log.ID %}
                        <tr>
                            <td>{{ log.hostname }} RestLogger: {{ log.restLogger }}</td>
                        </tr>

                        <tr>
                            <td>{{ log.type }}: {{ data.statusCode }}</td>
                        </tr>

                        <tr>
                            <td>hostname: {{ data.hostname }}  ip: {{ data.ip }}</td>
                        </tr>

                        <tr>
                            <td>result: {{ data.result }}    role: {{ data.role }}</td>
                        </tr>
                    {% endif %}
                
                {% endfor %}

            {% endif %}

            {% if log.type == 'SENT' %}

                {% for request in requests %}

                    {% if request.log.ID == log.ID %}
                        <tr>
                            <td>{{ log.hostname }} RestLogger: {{ log.restLogger }}</td>
                        </tr>

                        <tr>
                            <td>{{ log.type }}: {{ request.requestType }}</td>
                        </tr>

                        <tr>
                            <td>request: {{ request.URL }}</td>
                        </tr>

                        <tr>
                            <td>params: {{ request.params }}</td>
                        </tr>
                    {% endif %}
                
                {% endfor %}

            {% endif %}

        </tbody>
    </table>
</div>


{% endblock content %}